<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.happy.sqlExMapper.HpCompanyExMapper">
	
	<select id="getCompanyListPage" parameterType="com.happy.service.company.data.CompanySearch" resultType="com.happy.service.company.data.HpCompanyExt" >
		SELECT c.*,cs.lower_num,cs.hight_num,ct.type_name
		FROM hp_company c 
		left join hp_company_scale cs  on c.hp_company_scale_id = cs.hp_company_scale_id
		left join hp_company_type ct on ct.hp_company_type_id = c.hp_company_type_id
		WHERE 1=1 
		<if test="comName !=null and comName !='' ">AND com_name LIKE CONCAT('%',#{comName},'%')</if>
		<if test="startTime !=null and startTime !=0 ">AND c.create_time &gt;=#{startTime}</if>
		<if test="endTime !=null and endTime !=0 ">AND c.create_time &lt;=#{endTime}</if>
		ORDER BY create_time desc
		
	</select>	
	
</mapper>